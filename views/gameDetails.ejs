<html lang="en">
<%- include('./partials/head.ejs') %>

<body class="body-styling">
  <div class="container">
    <%- include('./partials/nav.ejs') %>
    <h2 class="game-title"><%= game.name %></h2>
    <div class="game-info row align-items-start">
      <div class="col">
        <img src="<%= game.cover.url %>" alt="kirby triple deluxe" class="game-box-art">
      </div>
      <div class="game-description col">
        <div class="info-piece">
          <h3>Game Summary</h3>
          <p><%= game.summary %></p>
        </div>
        <div class="info-piece side-one">
          <h3>Platforms</h3>
          <% if (platformsLength != 0) { %>
            <% for (let i=0; i<platformsLength; i++) { %>
              <p><%= game.platforms[i].name %></p>
            <% } %>
          <% } else { %>
            <p>None</p>
          <% } %>
        </div>
        <div class="info-piece">
          <h3>Publisher(s)</h3>
          <% if (publishersLength != 0) { %>
            <% for (let i=0; i<publishersLength; i++) { %>
              <p><%= game.involved_companies[i].company.name %></p>
            <% } %>
          <% } else { %>
            <p>No Publishers Available</p>
          <% } %>
        </div>
        <div class="info-piece">
          <h3>Release Date</h3>
          <% if (releaseDateLength != 0) { %>
            <%= game.release_dates[0].human %>
          <% } else { %>
            <p>No Release Dates Found</p>
          <% } %>
        </div>
        <div class="info-piece">
          <h3>Average Ratings</h3>
          <% if (ratingCheck != 'none') { %>
            <p><%= game.rating %>/100</p>
          <% } else { %>
            <p>No Ratings Available</p>
          <% } %>
        </div>
      </div>
    </div>

    <% if (screenshotsLength > 0 ) { %>
      <% if (screenshotsLength > 6) { %>
        <div class="slide-body" style="--number: <%= screenshotsLength %> ">
          <div class="slider">
            <div class="slide-track">
              <% for (let i=0; i<screenshotsLength; i++) { %>
              <div class="slide">
                <a href="<%= game.screenshots[i].url %>" target="_blank"><img src="<%= game.screenshots[i].url %>" alt="screenshot" class="img-scroll"></a>
              </div>
              <% } %>
              <!-- same slides doubled -->
              <% for (let i=0; i<screenshotsLength; i++) { %>
              <div class="slide">
                <a href="<%= game.screenshots[i].url %>" target="_blank"><img src="<%= game.screenshots[i].url %>" alt="screenshot" class="img-scroll"></a>
              </div>
              <% } %>
            </div>
          </div>
        </div>
      <% } else { %>
        <h1>Less than 6 screenshots</h1>
      <% } %>
    <% } %>

    <% if (artworksLength > 0) { %>
      <% if (artworksLength > 6) { %>
        <div class="slide-body" style="--number2: <%= artworksLength %> ">
          <div class="slider">
            <div class="slide-track2">
              <% for (let i=0; i<artworksLength; i++) { %>
              <div class="slide2">
                <a href="<%= game.artworks[i].url %>" target="_blank"><img src="<%= game.artworks[i].url %>" alt="screenshot" class="img-scroll"></a>
              </div>
              <% } %>
              <!-- same slides doubled -->
              <% for (let i=0; i<artworksLength; i++) { %>
              <div class="slide">
                <a href="<%= game.artworks[i].url %>" target="_blank"><img src="<%= game.artworks[i].url %>" alt="artworks" class="img-scroll"></a>
              </div>
              <% } %>
            </div>
          </div>
        </div>
      <% } else { %>
        <div class="small-list-positioning">
          <div class="small-list">
            <% for (let i=0; i<artworksLength; i++) { %>
              <div class="image-styling">
                <a href="<%= game.artworks[i].url %>" target="_blank"><img src="<%= game.artworks[i].url %>" alt="screenshot" class="img-scroll"></a>
              </div>
            <% } %>
          </div>
        </div>




      <% } %>
    <% } %>


    
    <%- include('./partials/footer.ejs') %>
  </div>
  <script>
    console.log("this is a test for game details")
  </script>
</body>
</html>